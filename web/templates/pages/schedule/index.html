{% extends "layouts/page.html" %}

{% block title %}{{ _('Schedule') }} | {{ super() }}{% endblock %}

{% block page_class %}page--schedule{% endblock %}
{% block page_header_class %}page__header--schedule{% endblock %}
{% block page_content_class %}page__content--schedule{% endblock %}

{% block page_header %}
    <h1>{{ _('Schedule')|typogrify|safe }}</h1>
{% endblock %}

{% block page_content %}
    {% for day in schedule.days %}
    <h1 class="schedule__day">{{ day.date|format_date('full') }}</h1>
    
    <table class="schedule">
        <thead class="schedule__head">
            
            <tr>
                <th class="schedule__time">&nbsp;</th>
                {% for room in schedule.rooms %}
                <th class="schedule__room-name">{{ room.name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody class="schedule__body">
            {% for entry in day.entries %}
            <tr class="schedule__row">
                <th class="schedule__time">
                    {{ entry.start_time|format_time('short') }}
                </th>
                
                {% if entry.talks %}
                {% for room in schedule.rooms %}
                {% set talk = get_talk(entry.talks[room.slug]) %}
                <td class="schedule__slot schedule__slot--room-{{ room.slug }}" {% if talk.title and room.slug == 'tutorial' %}rowspan="2"{% endif %}>
                    <a href="{% if talk.link %}{{ talk.link }}{% else %}#{% endif %}" class="schedule__slot-link">
                        <span class="schedule__slot-title">
                            {% for t in talk.title %}{{ t }}{% endfor %}
                        </span>
                        <span class="schedule__slot-presenter">
                            {% for a in talk.speakers %}{% for b in a %}{% for c in b %}{{ c }}{% endfor %}{% endfor %}{% endfor %}
                        </span>
                    </a>
                </td>
                {% endfor %}
                {% else %}
                <td class="schedule__slot" colspan="4">
                    <span class="schedule__slot-link">
                        <span class="schedule__slot-title">
                            {{ entry.title }}
                        </span>
                        {% if entry.content %}
                        <span class="schedule__slot-content">
                            {{ entry.content }}
                        </span>
                        {% endif %}
                    </span>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}
    
    <div class="page__section">
        <h1 class="schedule__day">{{ _('14 & 15 November, 2016') }}</h1>
        
        <h2>PyCon Canada Sprints</h2>
        
        <p style="text-align:center"><a href="button button--red button--big" class="button button--red">Find or Add a Project to the Wiki</a></p>
        
        <p>PyCon Canada Development Sprints are two days of intensive learning and development on an open source project of your choice, in a team environment. It's a time to come together with colleagues, old and new, to share what you've learned and apply it to an open source project.</p>
        
        <p>PyCon provides the space and infrastructure (network, power, tables & chairs); you bring your skills, humanity, and brainpower (oh! and don't forget your computer).</p>
    </div>
{% endblock %}
